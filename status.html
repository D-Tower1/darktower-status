<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dark Tower Data — Status</title>
  <meta name="description" content="Live proof-of-life status for Dark Tower Data." />
  <link rel="stylesheet" href="/style.css?v=1800000000" />
</head>

<body>
  <div class="wrap">
    <div class="nav">
      <div class="brand">
        <img class="logo" src="/assets/tower-logo-72-super.png" alt="Dark Tower Data logo" width="72" height="72" loading="eager" decoding="async">
        <div>Dark Tower Data</div>
      </div>
      <div class="navlinks">
        <a href="/">HOME</a>
        <a href="/data.html">DATA</a>
        <a class="active" href="/status.html">STATUS</a>
      </div>
    </div>

    <div class="card hero">
      <h1>Status</h1>
      <p class="muted">This page is live and reflects the current public status JSON generated on the Tower.</p>
      <div class="row">
        <a class="btn" href="/status.json" target="_blank" rel="noopener">Open status.json</a>
        <a class="btn ghost" href="/" >Back to Home</a>
      </div>
    </div>

    <div class="card">
      <h2>Live status.json</h2>
      <pre id="out" class="pre">Loading…</pre>
      <p class="muted">Source: <code>/status.json</code> (updated by systemd timer).</p>
    </div>

    <div class="footer muted">
      © Dark Tower Data — Information products only — Not investment advice
    </div>
  </div>

<script>
(async () => {
  const el = document.getElementById('out');
  try {
    const r = await fetch('/status.json', { cache: 'no-store' });
    if (!r.ok) throw new Error(`HTTP ${r.status}`);
    const j = await r.json();
    el.textContent = JSON.stringify(j, null, 2);
  } catch (e) {
    el.textContent = 'Failed to load /status.json: ' + e;
  }
})();
</script>
</body>
</html>
